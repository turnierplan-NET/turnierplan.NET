<div class="fs-3 mb-4" translate="Identity.ChangeUserInfo.Title"></div>

<div class="form-group mb-2">
  <label class="form-label" for="userName" translate="Identity.ChangeUserInfo.UserName"></label>
  <input class="form-control" id="userName" type="email" [(ngModel)]="userName" />
</div>

<div class="form-group">
  <label class="form-label" for="email" translate="Identity.ChangeUserInfo.EMail"></label>
  <input class="form-control" id="email" type="email" [(ngModel)]="emailAddress" />
</div>

@if (emailAddress !== previousEmailAddress) {
  <div class="mt-4 text-warning d-flex flex-row align-items-center gap-2 small">
    <i class="bi bi-exclamation-triangle"></i>
    <span translate="Identity.ChangeUserInfo.ChangeEmailNotice"></span>
  </div>
}

<div class="mt-4 d-flex flex-row align-items-center gap-3">
  <button class="btn btn-sm btn-outline-secondary" (click)="history.back()" translate="Identity.ChangeUserInfo.Back"></button>
  <div class="flex-grow-1"></div>
  @if (isLoading) {
    <tp-small-spinner />
  }
  <button
    class="btn btn-primary"
    [ngClass]="{ disabled: isLoading }"
    translate="Identity.ChangeUserInfo.Submit"
    (click)="submit()"
  ></button>
</div>

@if (!isLoading && isRequestFailed) {
  <div class="mt-3 text-danger" translate="Identity.ChangeUserInfo.RequestFailed"></div>
}
