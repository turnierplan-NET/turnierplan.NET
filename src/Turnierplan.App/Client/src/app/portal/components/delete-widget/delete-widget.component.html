<div class="fw-bold mb-3" translate="{{ translationKey }}.Title"></div>
<div class="mb-1" translate="{{ translationKey }}.Info"></div>

@if (confirmationText !== undefined) {
  <div
    [ngClass]="
      thinLayout
        ? 'mb-4 d-flex flex-column align-items-start gap-2'
        : 'mb-4 mb-md-3 d-flex flex-column flex-md-row align-items-start align-items-md-center gap-2 gap-md-3'
    ">
    <div [innerHTML]="'Portal.DeleteWidget.EnterToConfirm' | translate: { text: confirmationText }" id="deleteBoxLabel"></div>
    <input
      class="form-control form-control-sm"
      style="width: 20em"
      aria-labelledby="deleteBoxLabel"
      [tpE2E]="'delete-widget-confirmation-field'"
      [(ngModel)]="confirmationTextInput"
      (ngModelChange)="checkConfirmationText()" />
  </div>
  <div class="d-flex flex-row">
    <div [ngClass]="{ 'tp-cursor-not-allowed': !allowDeletion }">
      <tp-action-button
        [tpE2E]="'delete-widget-confirm-button'"
        [type]="'outline-danger'"
        [icon]="'trash'"
        [disabled]="!allowDeletion"
        [title]="'Portal.DeleteWidget.Delete'"
        (buttonClick)="deleteClicked(confirmModal)" />
    </div>
  </div>
}

<ng-template #confirmModal>
  <div class="modal-header">
    <div class="modal-title" [translate]="translationKey + '.Title'"></div>
  </div>
  <div class="modal-body d-flex flex-column">
    <div [innerHTML]="'Portal.DeleteWidget.ConfirmModalText' | translate"></div>
    <div class="mt-3 d-flex flex-row gap-2 text-danger">
      <i class="bi bi-trash"></i>
      <span class="fw-bold">{{ confirmationText }}</span>
    </div>
  </div>
  <div class="modal-footer">
    <tp-action-button [type]="'outline-dark'" [title]="'Portal.General.Cancel'" (buttonClick)="openModal?.dismiss()" />
    <tp-action-button
      [type]="'danger'"
      [icon]="'trash'"
      [title]="'Portal.DeleteWidget.DeleteConfirm'"
      (buttonClick)="confirmDeleteClicked()" />
  </div>
</ng-template>
